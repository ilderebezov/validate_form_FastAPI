# validate_form_FastAPI

Web-приложение для определения заполненных форм.
В базе данных хранится список шаблонов форм.

Шаблон формы, это структура, которая задается уникальным набором полей,
с указанием их типов.

Всего должно поддерживаться четыре типа данных полей:
    1. email
    2. телефон
    3. дата
    4. текст.

Все типы кроме текста должны поддерживать валидацию.
Телефон передается в стандартном формате +7 xxx xxx xx xx,
дата передается в формате DD.MM.YYYY или YYYY-MM-DD.

Имя шаблона формы задается в свободной форме, например MyForm или Order Form.
Имена полей также задаются в свободной форме (желательно осмысленно),
например user_name, order_date или lead_email.

На вход по урлу /get_form POST запросом передаются данные такого вида:
f_name1=value1&f_name2=value2

В ответ нужно вернуть имя шаблона формы, если она была найдена.
Чтобы найти подходящий шаблон нужно выбрать тот,
поля которого совпали с полями в присланной форме.
Совпадающими считаются поля, у которых совпали имя и тип значения.
Полей в пришедшей форме может быть больше чем в шаблоне,
в этом случае шаблон все равно будет считаться подходящим.
Самое главное, чтобы все поля шаблона присутствовали в форме.

Если подходящей формы не нашлось, поле заполняется FIELD_TYPE это тип поля, 
выбранный на основе правил валидации, 
проверка правил должна производиться в следующем порядке дата, телефон, 
email, текст.

В качестве базы данных рекомендуем используется tinyDB.

Также в комплекте должен быть скрипт, который совершает тестовые запросы. 

Установка и работа с сервисом:

    Склонируйте репозиторий
    Создайте и войдите в вирутальное окружение
    Установите зависимости: pip install -r requirements.txt
    Для проверки тестовых запросов выполните комманду "pytest"
    Запуск проект uvicorn main:app --reload
    Пример выполнения запроса: "curl -d "user_email=test@gmail.com&user_phone=+7123 123 12 12&user_date=01.01.2023&user_text=test text" -H "Content-Type: application/x-www-form-urlencoded" -X POST http://0.0.0.0:8080/get_form"
    Ответ сервиса: {"form name":"Form_00"}

В тестовой базе форм находится три формы:
1. форма №1:
   - имя формы: Form_00
   поля формы и типы:
   - "user_date": "date"
   - "user_phone": "phone"
   - "user_email": "email"
   - "user_text": "text"
2. форма №2:
   - имя формы: Form_01
   поля формы и типы:
   - "user_work_email": "email"
   - "user_work_phone": "phone"
   - "user_work_text": "text"
3. форма №3:
   - имя формы: Form_02
   поля формы и типы:
   - "user_work_date": "date"
   - "user_work_email": "email"
   - "user_work_phone": "phone"
   - "user_work_text": "text"